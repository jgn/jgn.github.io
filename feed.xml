<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>7fff</title>
  <id>http://7fff.com/</id>
  <link href="http://7fff.com/"/>
  <link href="http://7fff.com/feed.xml" rel="self"/>
  <updated>2025-08-02T22:36:00+00:00</updated>
  <author>
    <name>jgn</name>
  </author>
  <entry>
    <title>My top ten "hangout" movies</title>
    <link rel="alternate" href="http://7fff.com/2025/08/my-top-ten-hangout-movies/"/>
    <id>http://7fff.com/2025/08/my-top-ten-hangout-movies/</id>
    <published>2025-08-02T22:36:00+00:00</published>
    <updated>2025-08-03T10:33:03-05:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;From a New Yorker article about Quentin Tarantino:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;One of the many personal genres that Tarantino has made up is &amp;quot;hangout movies&amp;quot; -- movies whose plot and camerawork you may admire but whose primary attraction is the characters. A hangout movie is one that you watch over and over again, just to spend time with them. &amp;quot;Rio Bravo,&amp;quot; one of Tarantino&amp;#39;s favorite movies of all time (the two others are &amp;quot;Taxi Driver&amp;quot; and &amp;quot;Blow Out&amp;quot;), is a hangout movie. Richard Linklater&amp;#39;s &amp;quot;Dazed and Confused,&amp;quot; perhaps Tarantino&amp;#39;s favorite movie of the nineties, is another hangout movie, and when Tarantino is abroad, in a hotel or some apartment he&amp;#39;s rented, if he feels lonely he goes to a video store and rents &amp;quot;Dazed and Confused,&amp;quot; and then he doesn&amp;#39;t feel lonely anymore. The characters in the movie have become friends of his. -- &lt;a href="https://www.newyorker.com/magazine/2003/10/20/the-movie-lover"&gt;Larissa MacFarqhhar, &amp;quot;The Movie Lover,&amp;quot; The New Yorker (October 20, 2003)&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Below are mine. As I reflect on these I&amp;#39;m struck by the lack of writers and directors who are women
and/or people of color and/or not from the US or UK and/or not straight. Perhaps hangout movies are
narcissistic by definition. I will note that all of these movies have amazing performances by women
(with the exception of Django Unchained). In any case, I&amp;#39;m going to have to think about that and
review my choices. Off the bat, I think there might be qualification by films by Lisa Cholodenko,
Spike Lee, and Jordan Peele. Maybe Lone Scherfig. Sounds like a good film fest, right? I might argue
that some of these directors below are cognitively different but I&amp;#39;m not sure how I&amp;#39;d evaluate that
with any seriousness.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The Thirty-Nine Steps (1935). Before I was 12, my Mom would let me see old movies at the Baxter
Theatre in Louisville, Kentucky. (They&amp;#39;d show the classics in the 4 PM to 7 PM slot, right before
they started showing porn; so the attendance was a little peculiar when I&amp;#39;d be getting out of the
theater for a pickup by my mom.) Most of the films were old Chaplin flicks, but somehow I managed
to see a double feature of The Lady Vanishes and The Thirty-Nine Steps. I adored and still adore
The Thirty-Nine Steps. Parts of it still give me the creeps. I saw the Broadway parody play, and
it was silly compared to the movie. I&amp;#39;ve read the Buchan book, but for me, the movie is tops.&lt;/p&gt;

&lt;p&gt;There&amp;#39;s rather a lot going on in this movie besides the pretty linear plot. The protagonist is
 Canadian, and he is both within and without the culture; the movie is about spies, and he is
 himself something of a spy.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hannah and Her Sisters (1986). You know this as a classic Woody Allen movie, but perhaps in the
second tier (behind such movies as Manhattan and Annie Hall). This is actually a very strange
movie. If you&amp;#39;ve given up on it, or saw it, or didn&amp;#39;t like it (or intend to never watch it again
because we now know bad things about Woody Allen), I&amp;#39;d like to ask you to give it another try,
with one word in mind: &amp;quot;envy.&amp;quot;&lt;/p&gt;

&lt;p&gt;This movie is all about envy and triangulation. Repeatedly you see two people in competition for
  a third person. Hannah and Lee are in competition for Elliot; Holly and April compete for the
  attention of the architect David (played by an uncredited Sam Waterson); Mickey and Elliot are
  (implicitly) in competition for Hannah; it goes on and on. The characters are trapped in the idea
  that there is some zero-sum game around desire. What saves the movie is the last scene with
  Mickey and Holly, which is based on the idea that miracles exist in everyday life, and it is such
  ruptures that explode the trivial &amp;quot;economics&amp;quot; of envy. I used to think that this was a 
  later Allen movie that didn&amp;#39;t have some connection to child abuse, but in fact child abuse is
  joked about in the scene where Mickey is a show-runner for a SNL-esque show. So now I wonder if I
  should stop watching it. Incidentally, the punk band is played by the real Canadian band
  &lt;a href="https://www.discogs.com/artist/530963-39-Steps"&gt;The Thirty Nine Steps&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dazed and Confused (1993). This is set during the last day of school in 1976. I would have been
16, completing my sophomore year in high school, just about to go into my junior year. That means
I would be one year behind the characters in the movie like Pink who were about to become
seniors. This movie gets &lt;em&gt;everything&lt;/em&gt; right, allowing for differences between Texas (the movie)
and Minnesota (my reality). I could easily have been Mike Newhouse or Tony Olson (more Tony than
Mike, surely). And of course I would have had a terrible crush on the character Cynthia Dunn.&lt;/p&gt;

&lt;p&gt;This movie is misunderstood by most viewers. This is really about personal determination and
  ethical choice. At the beginning of the movie, the junior Pink is given a sheet he has to sign
  promising to not take drugs in his senior year, etc. By the end of the movie, Pink rejects this
  and hangs with the stoners. This is a big deal. I think that the positioning of this movie as
  explicitly &amp;quot;post-60s&amp;quot; is trying to make a point that despite the cultural heroism of the 1960s,
  young people were still (despite the conventional story that tells us about 70s apathy and
  narcissistic pleasure-seeking) trying to do the &amp;quot;right thing&amp;quot; in the 1970s.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;American Graffiti (1973). I saw this for the first time in the 2nd floor screening room (refitted
from a balcony) at the Grandview Theatre in Saint Paul. I loved everything about it. Either just
before this movie or just after I acquired the K-Tel album
&lt;a href="https://www.discogs.com/release/10663998-Various-25-Rock-Revival-Greats"&gt;25 Rock Revival Greats&lt;/a&gt;
(1972), which was probably the best collection of 50s rock of its time (though the American
Grafitti soundtrack, which came out a bit later, was also amazing -- though more white; for
instance, no Bo Diddley), including both white and black artists.&lt;/p&gt;

&lt;p&gt;Obviously the most provocative thing about the movie is the intensity of the drag race at the
  end. But it also told me that moving across country for college and leaving your friends was a
  thing. I didn&amp;#39;t have friends as portrayed in the movie, so the whole experience was a little
  alien, like reading a really great anthropological ethnography. After this movie I went
  downstairs and snuck into the main room which was showing &amp;quot;The Sting.&amp;quot; There was only one seat
  left: Front row, far left. My neck was so cricked afterwards I can&amp;#39;t say I&amp;#39;ve ever thoroughly
  enjoyed re-watchings of &amp;quot;The Sting&amp;quot; though by other measures it might be on this very list. I
  highly recommend watching More American Graffiti (1979), set in 1964-1967, which fills in the near future that the
  characters couldn&amp;#39;t have imagined in their original setting of 1962.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pulp Fiction (1994). I saw this one in Sedona, Arizona, when it first came out. I was buzzing for
days afterward. I don&amp;#39;t have a lot to say about this one, but re-watchings benefit from checking
out YouTube for videos on &amp;quot;details you missed in Pulp Fiction&amp;quot; and &amp;quot;Pulp Fiction in chronological
order.&amp;quot;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fargo (1996). I struggle a bit to explain why I love to hang out with the characters in this
movie so much. It almost doesn&amp;#39;t make the list because of the light satiric mockery of the
characters, which maybe isn&amp;#39;t necessary (the film makers almost use it like a crutch to insinuate: oh we&amp;#39;re not really being so serious . . .). The more I
think about it, the more I home in on the pathetic scene between Marge -- the pregnant cop who
figures out the crime that drives the plot -- and Mike Yanagita, the sad sack who supposedly
divorced his wife and has some weird crush on Marge. This is one of those scenes where critics
and viewers have said . . . &amp;quot;wha?&amp;quot; It turns out that this scene is the crux of the movie, because
it amps up Marge&amp;#39;s skepticism of what people say about themselves. When she realizes that Mike is
full of shit, she goes back to her case with fresh vigor.
&lt;a href="http://movies.stackexchange.com/questions/290/what-significance-does-mike-yanagita-have-in-fargo/293#293"&gt;This&lt;/a&gt;
seems to be one of the few discussions that gets it right.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;City Lights (1931). This is another movie, like The 39 Steps, that I saw when I was 10 or 11 at
the Baxter in Louisville, Kentucky. The movie is almost sickeningly sentimental. I didn&amp;#39;t see it
for years and then saw it streaming and it opened up a gulf of hidden-away emotion.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Saturday Night Fever (1977). This movie bears re-watching for the stories of Frank, Jr., Annette,
Bobby, and of course Stephanie. I think it&amp;#39;s better to understand the movie as &amp;quot;around&amp;quot; John
Travolta&amp;#39;s character, Tony, rather than about him. This is one of those strange movies where
everything supporting is in fact primary and the point of the movie.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Django Unchained (2012). I never felt that Tarantino&amp;#39;s other movies really lived up to &amp;quot;Pulp
Fiction.&amp;quot; There were moments that were as great as the best bits from &amp;quot;Pulp Fiction,&amp;quot; but over
the whole course of the movie, none could compare for tempo and narrative creativity. But &amp;quot;Django
Unchained&amp;quot; had me simultaneously in shock, cheering, and thrilled in a new way. I think it&amp;#39;s
Tarantino&amp;#39;s best, and I want to hang out with its characters for a long time to come.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Almost Famous (2000). For me the problem here is that the Stillwater band is kind of awful,
compared to the models (IMHO, The Allman Brothers and Grand Funk), but this is another one that
has stayed on the turntable, so to speak. I think the miniseries (but not the book)
Daisy Jones and the Six got more right, but it&amp;#39;s not a movie, and for me it&amp;#39;s hard to hang out
with a series.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Close but not quite:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Alien (1979). It messes with your consciousness of what&amp;#39;s real and what&amp;#39;s fantasy. If
you don&amp;#39;t love this crew of losers, what&amp;#39;s wrong with you? True story: I saw this in Des Moines in
1979 or 1980. One the way back to middle Iowa, I sat in the back seat of the car, and I swear that
the damn Alien was somewhere in the shadows of that vehicle, getting ready to eat me. I looked
around quite suspiciously for a glint of little teeth. I was scared. Later when my peeps and I got
back to our house, I noticed Stu sitting in the living room; I gestured with my hands as though
something was emerging from my mouth, and Stu lept out of his seat like he had been shot. Now
that&amp;#39;s a powerful movie if it makes people think that their real-life housemates have gigantor
parasites inside of them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The Godfather (1972). In my original version of this list, it seemed hackneyed to add it, but I
seem to have &amp;quot;hung out&amp;quot; with this movie quite a bit, so here it is.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The Squid and the Whale (2005). This one hits hard personally. A lot of my dad was in the
character of Bernard; a lot of my stepmother in Joan. but I still hang out with it.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;New ones, potentially:&lt;/p&gt;

&lt;p&gt;My Old Ass; The Poseidon Adventure; Julia; Airport; Civil War; Soylent Green; Barry Lyndon; Love and
Mercy; After Hours; The Martian; The Sound of Music; Once Upon a Time in Hollywood; Big Night; The
Holdovers; The Last Days of Disco; Grand Illusion; After the Thin Man; The Wizard of Oz; Midnight in
Paris; 24 Hour Party People; Metropolitan; All the President&amp;#39;s Men; Adventureland; Patton;
Nashville; The Conversation; The King of Comedy; Rio Bravo.&lt;/p&gt;

&lt;p&gt;Movies that are absolutely not on this list, with my reasons, but I suspect are on the lists of
others:&lt;/p&gt;

&lt;p&gt;The Godfather, Part II (Just weaker than the first movie and the plot makes no sense); THe
Godfather, Part III (Ridiculous); Boogie Nights (The characters need more depth); American Beauty
(Too mean); Stand by Me (Too trivial, and the pie scene disrupts the world-building); The Shawshank
Redemption; Star Wars movies; The Big Lebowski (Too much cruft); When Harry Met Sally
(Insufferable); Blue Velvet (Does anyone need to see it a second time?); Boyhood (Tedious); The
before sunrise stuff (Tedious); Up in the Air (Has its moments but ultimately trivial); Back to the
Future movies (Too zany); James Bond movies (No character development); Thelma and Louise (Conceit
is too easy); Casablanca (I have a hard time not going to sleep); Fast Times at Ridgemont High (The
coerced sex scene bugs me); Super Bad; The Breakfast Club; Ferris Bueller&amp;#39;s Day Off; Clerks; Office
Space; High Fidelity; Goodfellas; The Royal Tenenbaums; Reality Bites; Swingers; My Dinner with
Andre; The Princess Bride; 2001\; Blade Runner.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Dissertating</title>
    <link rel="alternate" href="http://7fff.com/2025/04/dissertating/"/>
    <id>http://7fff.com/2025/04/dissertating/</id>
    <published>2025-04-25T00:38:00+00:00</published>
    <updated>2025-04-24T20:17:57-05:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;Every now and then people glom on to the fact that I spent a lot of time studying English Renaissance literature.
Here are a couple of people discussion my dissertation, English Literary Anatomy, 1540-1621:
Institution into Form (1993).&lt;/p&gt;

&lt;audio src="/assets/audio/ela.mp3" controls&gt;&lt;/audio&gt;

&lt;p&gt;The discussion gets the main observations about the literature, but kind of misses the point about
how much I saw/see &amp;quot;institutions&amp;quot; as really the primary frame for our undertanding of, well, basically: anything.
If you are thinking of something through the framework of, say, &amp;quot;the corporation,&amp;quot; the boundaries
of what you can think and describe are proscribed. Maybe today we&amp;#39;d talk about Overton windows.
My argument was that the institition of anatomy was so compellingly lived by the barber-surgeons (and the King)
that it could legitimize all kinds of thoughts that would otherwise be disallowed. Really, unthinkable.&lt;/p&gt;

&lt;p&gt;Meanwhile, I think the second half of the conversation is more boring than the first half, just like the
dissertation.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Prompting Claude to write GDPR questions</title>
    <link rel="alternate" href="http://7fff.com/2025/04/prompting-claude-to-write-gdpr-questions/"/>
    <id>http://7fff.com/2025/04/prompting-claude-to-write-gdpr-questions/</id>
    <published>2025-04-16T14:31:00+00:00</published>
    <updated>2025-04-16T20:47:22-05:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;I&amp;#39;m going to be taking the CIPP/E exam on May 7 to valdiate my understanding
of the European privacy regulations, GDPR.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ve been working with the sample exam (which you have to purchase) from CIPP, but
wanted more questions. So I wrote this prompt for &lt;a href="https://claude.ai"&gt;Claude&lt;/a&gt; (3.7 Sonnet).&lt;/p&gt;

&lt;p&gt;The &amp;quot;OUTLINE&amp;quot; as given below is from the &lt;a href="https://iapp.org/certify/get-certified/cippe/"&gt;Body of Knowledge&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In what&amp;#39;s below, I&amp;#39;m only asking Claude to generate questions for only a few domains. By this
means, I can focus. The reason I ask for that CSV section is so that I can test myself and keep
all of the answers for all quizzes (which will be on different domains) so that I can do some
analytics on it and figure out where I need to study more.&lt;/p&gt;

&lt;p&gt;I would say that Claude&amp;#39;s questions and answers are pretty easy; I need to think about how to
prompt Claude to write harder questions that are still helpful.&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;You are an expert in GDPR: The Articles, the Recitals, and the EDPB Guidelines.&lt;/p&gt;

&lt;h3&gt;Your style of question&lt;/h3&gt;

&lt;p&gt;You are also a very considerate teacher who seeks to write questions that help your students
learn what is important. The questions must be very clear, and must not go into the obscure corners
of the law. While questions shouldn&amp;#39;t be deliberately misleading, they often require distinguishing
between similar concepts. At the same time, you should not insult the intelligence of the test-taker
by writing questions that are trivial. You may write a question that shows a bit of humor, but don&amp;#39;t
overdo it.&lt;/p&gt;

&lt;h3&gt;Difficulty and duration&lt;/h3&gt;

&lt;p&gt;The person taking the test will devote at most 2 minute to each question. The total time should
be the number of questions times the number of minutes for each question. They will not have access
to the Internet or any printed resources. Thus, the questions must exercise knowledge that is
plausibly remembered by a smart student. Questions may require some nuanced details that demonstrate
deeper knowledge.&lt;/p&gt;

&lt;h3&gt;Clarity of questions&lt;/h3&gt;

&lt;p&gt;Review your work and think critically about your questions:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Is the question clear?&lt;/li&gt;
&lt;li&gt;Are the answers clear?&lt;/li&gt;
&lt;li&gt;Is the question interesting? This would be subjective, but use your best judgement.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If the answer is &amp;quot;no&amp;quot; to any of these questions, revise the question and its answers so that they
are clear and interesting.&lt;/p&gt;

&lt;h3&gt;Other details&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Each question should be multiple choice with 4 options labeled A-D&lt;/li&gt;
&lt;li&gt;Ensure all distractors (wrong answer options) are plausible but clearly incorrect. Distractors
should represent common misconceptions or partial understanding of the concepts.&lt;/li&gt;
&lt;li&gt;Verify that each question has only one unambiguously correct answer&lt;/li&gt;
&lt;li&gt;The answers must also not be of the type that pick multiple answers such as &amp;quot;Both A and B&amp;quot;&lt;/li&gt;
&lt;li&gt;Check that the language used in questions and answers is precise and not open to interpretation&lt;/li&gt;
&lt;li&gt;Confirm that questions test understanding rather than just recall of facts&lt;/li&gt;
&lt;li&gt;Verify that the question directly relates to the specified subdomain and topic&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;what you must do&lt;/h3&gt;

&lt;p&gt;Generate 18 questions that reference items in the following OUTLINE. In the OUTLINE, the subdomain
are given with capital letters. For instance, &amp;quot;Data Protection Concepts&amp;quot; is in subdomain A, and
&amp;quot;Personal data&amp;quot; is sub-subdomain 1. The enumeration of Articles, Recitals, Guidelines, and Opinions
(indicated with the word &amp;quot;Mostly&amp;quot;)  is to provide hints to you for question coverage. You may go
beyond these if you like.&lt;/p&gt;

&lt;p&gt;Your 18 questions must have 5 from subdomain A, 4 from subdomain B, 4 from subdomain C,
and 5 from subdomain D. The distribution of questions regarding the sub-subdomains is up to you,
based on your understanding of the importance of the topic to the GDPR. The questions need not be in subdomain order.&lt;/p&gt;

&lt;h4&gt;Scenarios&lt;/h4&gt;

&lt;p&gt;Some questions may be preceded with a scenario, which is then used for 2-3 of the following
questions. Note that the scenario may address multiple subdomains. For
example, if you had questions from subdomain A, sub-subdomain 1, that could be clustered with two other
questions in, say, subdomains C and D, you could preface those questions with a scenario.
The scenario would have the title: SCENARIO 1 FOR THE NEXT 3 QUESTIONS. After the questions
for that scenario, you would have a line that says: END OF SCENARIO 1. A scenario should be no
longer that 500 words. You may use paragraphs for the scenario. The entire quiz may have at most
2 scenarios.&lt;/p&gt;

&lt;p&gt;Finally, scenarios should be written with realistic but complex business situations with nuanced
legal implications requiring application of &lt;em&gt;multiple&lt;/em&gt; GDPR principles.&lt;/p&gt;

&lt;h3&gt;Output format&lt;/h3&gt;

&lt;p&gt;First, a section labeled QUESTIONS. This will not provide the correct answer or the rationale.&lt;/p&gt;

&lt;p&gt;When you show each question (1-18) make sure that you list the options as a bullet list under
each question. As noted, the questions should not be in subdomain order. As noted, you may
have a cluster of multiple questions refer to a scenario that would preceded the cluster.&lt;/p&gt;

&lt;p&gt;Section, a section labeled CSV. This will be a CSV file with five columns. The headers will
be quiz, question, studentanswer, domain, subdomain, and sub-subdomain. The quiz, studentanswer, and domain columns will be
blank. The values for the question, subdomain, and subsubdomain columns will be the question number,
the subdomain letter, and the sub-subdomain. You will make sure there is a header row for
the column names. For example,&lt;/p&gt;

&lt;p&gt;quiz,quuestion,studentanswer,domain,subdomain,subsubdomain
,1,,,A,2&lt;/p&gt;

&lt;p&gt;Third, a section labled KEY. This will provide just the answers. For example, if the correct answer for
question 1 is B, it will say: 1: B&lt;/p&gt;

&lt;p&gt;Fourth, a section labeled ANSWERS AND RATIONALES. For each question, there will be:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The question number, the question, and the list of answers, A-D.&lt;/li&gt;
&lt;li&gt;The correct answer.&lt;/li&gt;
&lt;li&gt;The rationale. Rationales should be 3-5 sentences explaining why the correct answer is right and
briefly why other options are wrong. Rationales should identify common misconceptions when relevant.&lt;/li&gt;
&lt;li&gt;The subdomain.&lt;/li&gt;
&lt;li&gt;The sub-subdomain.&lt;/li&gt;
&lt;li&gt;Key Articles and Recitals from GDPR, and the names of any relevant Guideslines. This may go beyond
the suggestions in the OUTLINE. They may be simple references such as Article 4 or Guideline 07/1010.
I am assuming that your rationale will provide enough information so that the explanations of
the correct and incorrect answers make sense.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Questions should test understanding of concepts and their application,
not just memorization of facts.&lt;/p&gt;

&lt;p&gt;OUTLINE&lt;/p&gt;

&lt;p&gt;A. Data Protection Concepts (generate 5 questions)&lt;/p&gt;

&lt;p&gt;Mostly Articles 2, 4, 9 and Recitals 26, 28, 42, 51
The exam taker will also know about Opinion 4/2007&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Personal data&lt;/li&gt;
&lt;li&gt;Sensitive personal data
a. Special categories of personal data&lt;/li&gt;
&lt;li&gt;Pseudonymous and anonymous data&lt;/li&gt;
&lt;li&gt;Processing&lt;/li&gt;
&lt;li&gt;Controller&lt;/li&gt;
&lt;li&gt;Processor
a. Guidelines 07/2020 on the concepts of controller and processor in the GDPR&lt;/li&gt;
&lt;li&gt;Data subject&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;B. Territorial and Material Scope of the General Data Protection Regulation (generate 4 questions)&lt;/p&gt;

&lt;p&gt;Mostly Article 3, Guidelines 3/2018&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Establishment in the EU&lt;/li&gt;
&lt;li&gt;Non-establishment in the EU
a. Guidelines 3/2018 on the territorial scope of the GDPR&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;C. Data Processing Principles (generate 4 questions)&lt;/p&gt;

&lt;p&gt;Mostly Articles 5, 39, and Recitals 39, 74 and the ePrivacy Directive&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Fairness and lawfulness&lt;/li&gt;
&lt;li&gt;Purpose limitation&lt;/li&gt;
&lt;li&gt;Proportionality&lt;/li&gt;
&lt;li&gt;Accuracy&lt;/li&gt;
&lt;li&gt;Storage limitation (retention)&lt;/li&gt;
&lt;li&gt;Integrity and confidentiality&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;D. Lawful Processing Criteria (generate 5 questions)&lt;/p&gt;

&lt;p&gt;Mostly Articles 4, 6, 7, 8, 9, 13, 14, Recitals 32, 42, 43, 44, 45, 47, 51, 53&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Consent&lt;/li&gt;
&lt;li&gt;Contractual necessity&lt;/li&gt;
&lt;li&gt;Legal obligation, vital interests and public interest&lt;/li&gt;
&lt;li&gt;Legitimate interests&lt;/li&gt;
&lt;li&gt;Special categories of processing&lt;/li&gt;
&lt;/ol&gt;
</content>
  </entry>
  <entry>
    <title>Radio buttons, checkboxes, affirmative choices, and consents</title>
    <link rel="alternate" href="http://7fff.com/2025/01/radio-buttons-checkboxes-affirmative-choices-and-consents/"/>
    <id>http://7fff.com/2025/01/radio-buttons-checkboxes-affirmative-choices-and-consents/</id>
    <published>2025-01-03T22:53:00+00:00</published>
    <updated>2025-01-04T16:35:54-06:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;Here are some notes about radio button and checkbox defaults for times when you need an affirmative
answer.&lt;/p&gt;

&lt;h3&gt;Affirmative choices&lt;/h3&gt;

&lt;p&gt;The Nielsen/Norman Group (no relation) has
&lt;a href="https://www.nngroup.com/articles/radio-buttons-default-selection/"&gt;an interesting article on radio buttons by Kara Pernice&lt;/a&gt;.
Its advice is sound, but I want to note a case where there could perhaps be even more obviousness.&lt;/p&gt;

&lt;p&gt;The next time you design a radio button interface, I&amp;#39;d like to advise you to think about an
additional choice, which is essentially a default choice representing that a choice is not made.&lt;/p&gt;

&lt;p&gt;Radio buttons provide for a mutually-exclusive choice. For instance, an airline serves two meals to
first-class customers, one with pasta, one with rice. You can only pick one.&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
&lt;input type="radio" name="pasta_or_rice" checked&gt; pasta &lt;br/&gt;
&lt;input type="radio" name="pasta_or_rice"&gt; rice
&lt;/div&gt;

&lt;p&gt;But this hides the implied third choice, which is not to have any meal. Better:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
&lt;input type="radio" name="pasta_or_rice_2" checked&gt; pasta &lt;br/&gt;
&lt;input type="radio" name="pasta_or_rice_2"&gt; rice &lt;br/&gt;
&lt;input type="radio" name="pasta_or_rice_2"&gt; neither
&lt;/div&gt;

&lt;p&gt;This may become important for legal requests for a formal, affirmative choice. For example, a health
survey might ask:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
Are you pregnant? &lt;p/&gt;

&lt;input type="radio" name="no_yes" checked&gt; No &lt;br/&gt;
&lt;input type="radio" name="no_yes"&gt; Yes
&lt;/div&gt;

&lt;p&gt;But this doesn&amp;#39;t allow the choice to say neither No nor Yes. Also, suppose you are a healthcare
company that asks this question, and you don&amp;#39;t want to be blamed if the user gets the wrong
treatment according to this answer. The user might say: I was in a rush and took all of the default
answers; the form reported this answer as &amp;quot;No,&amp;quot; but it was actually &amp;quot;Yes.&amp;quot;&lt;/p&gt;

&lt;p&gt;Some people try to solve this with a form where neither choice is indicated by default, and the user
is forced to choose one or the other:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
&lt;input type="radio" name="no_yes_2"&gt; No &lt;br/&gt;
&lt;input type="radio" name="no_yes_2"&gt; Yes
&lt;/div&gt;

&lt;p&gt;I don&amp;#39;t like this one, because the form typically can&amp;#39;t be submitted with no choice, or there is no
way undo choosing one of the options (there&amp;#39;s no way to go back to the &amp;quot;neither is picked&amp;quot;
scenario).&lt;/p&gt;

&lt;p&gt;So this is missing the third option, which in some forms is &amp;quot;prefer not to say,&amp;quot; or &amp;quot;not reported.&amp;quot;
Those two phrasings of the answer are in fact a little pushy. Does the user actually &lt;em&gt;prefer&lt;/em&gt; not to
say, or are they compelled not to say? Additionally, &amp;quot;not reported&amp;quot; is not quite right, because the
user is reporting something: The user is reporting neither No or Yes. And this third option should
be the default:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
&lt;input type="radio" name="no_yes_3"&gt; No &lt;br/&gt;
&lt;input type="radio" name="no_yes_3"&gt; Yes &lt;br/&gt;
&lt;input type="radio" name="no_yes_3" checked&gt; No choice made &lt;br/&gt;
&lt;/div&gt;

&lt;p&gt;Now if a user accidentally takes the default answer, the healthcare company is protected because
they can show that no choice was made. If a procedure must be conducted that depends on
pregnancy status, they can ask again in a different setting. Additionally, the confidence in the No
or Yes answer is enhanced, because the user has to make an affirmative decision to choose something
other than &amp;quot;No choice made.&amp;quot;&lt;/p&gt;

&lt;p&gt;One last thing: If you implement this, make sure that the date/time of the choice is captured in the
database. (It can also help to put the statement itself into the database.) People go in and out of
the state of pregnancy, and you should capture that so that it&amp;#39;s clear that the answer wasn&amp;#39;t
provided for all time. Indeed, with this in mind, the question &amp;quot;are you pregnant?&amp;quot; might be changed
to:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
On this date, 3-Jan-2025, are you pregnant?
&lt;/div&gt;

&lt;p&gt;By this means the wording for the user and the data captured on the back-end is aligned.&lt;/p&gt;

&lt;h3&gt;Consents&lt;/h3&gt;

&lt;p&gt;There&amp;#39;s a similar problem with consents.&lt;/p&gt;

&lt;p&gt;Let&amp;#39;s say that you&amp;#39;re a healthcare company and want to satisfy HIPAA requirements and encrypt
personal data when in transit. In most cases, email is encrypted end-to-end with TLS, but you know
of cases where this is not feasible (because the patient&amp;#39;s email server can&amp;#39;t handle it). Therefore,
you want to ask the user for consent to send unencrypted email. With this consent, you may go ahead
and send unencrypted email. Without this consent, you continue not sending such email. Thus, not
sending the email is the default, whether or not you capture a consent decision. No one says &amp;quot;please
do not send me unencrypted email&amp;quot; up front.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s another example: The request to consent to treatment. Without such consent, you won&amp;#39;t be
treated.&lt;/p&gt;

&lt;p&gt;What this means is that it is not appropriate to use radio buttons to collect a Yes or No answer.
This is wrong:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
&lt;input type="radio" name="no_yes_4" checked&gt; No &lt;br/&gt;
&lt;input type="radio" name="no_yes_4"&gt; Yes
&lt;/div&gt;

&lt;p&gt;Don&amp;#39;t do this. The &amp;quot;No&amp;quot; answer is meaningless, because without consent, the email will already not
be sent. Essentially, the user is being asked to consent -- or do nothing. The best interface is a
checkbox or possibly a button:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;
In most cases, BigHealth will send email that is encrypted end-to-end, but in some cases, this is
not feasible for technical reasons. Do you consent to email being sent unencrypted if the encryption
can't be accomplished? &lt;p/&gt;

&lt;input type="checkbox" name="consent-1"&gt; I consent to allowing unencrypted email
&lt;/div&gt;

&lt;p&gt;Note as well that this form should only be presented when the user has not given consent. (If the
user has given consent, then you should show a form providing for the withdrawal of consent: See
below.) As for the affirmative radio button answers, the date/time should be collected on the back
end. Additionally, the table should not have a column for Yes/No values. It should be a table called
&amp;quot;consents&amp;quot; where each row is just is the date/time. The appearance of such a row means that on that
date/time, the user consented. But this is probably not quite enough.&lt;/p&gt;

&lt;p&gt;You also want to allow for the withdrawal of consent. In this case the language would be something like this:&lt;/p&gt;

&lt;div class="quote-rendering"&gt;

In most cases, BigHealth will send email that is encrypted end-to-end, but in some cases, this is
not feasible for technical reasons. On 3-Jan-2025, you consented to this activity.
&lt;p/&gt;
Do you withdraw your consent to email being sent unencrypted if the encryption can't be accomplished?
&lt;p/&gt;
&lt;input type="checkbox" name="consent-withdrawal-1"&gt; I withdraw my consent to allowing unencrypted email
&lt;/div&gt;

&lt;p&gt;Now, on the back-end, you probably want a table called &amp;quot;consent decisions.&amp;quot; There is a row with
columns defining who consented, what the consent statement was about, a &amp;quot;decision,&amp;quot; with values
&amp;quot;consented&amp;quot; or &amp;quot;withdrawn,&amp;quot; and a column for the date/time of the decision. It can help to have a
separate table of consent statements, and rather than showing the literal language on the front-end,
use the language from the table so that everything ties up properly. I have seen companies
accidentally introduce drift into this process where the consent statement in the database does not
match up with the language presented to the user (and sometimes, this language will mismatch paper
versions of the consent form.)&lt;/p&gt;

&lt;p&gt;By these means, you capture affirmative answers to decisions and consent decisions without confusing
the user and you represent them in the database in such a way that there is clarity about the time
relations to the decisions and/or consents.&lt;/p&gt;

&lt;p&gt;Last thing: The UK has a
&lt;a href="https://ico.org.uk/for-organisations/uk-gdpr-guidance-and-resources/lawful-basis/consent/what-is-valid-consent/#what4"&gt;great document&lt;/a&gt;
(citing relevant portions of the GDPR) that outlines how consents should work. Consent must be&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;freely given&lt;/li&gt;
&lt;li&gt;specific and informed&lt;/li&gt;
&lt;li&gt;unambiguous&lt;/li&gt;
&lt;li&gt;explicit&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;On &lt;a href="https://ico.org.uk/for-organisations/uk-gdpr-guidance-and-resources/lawful-basis/consent/how-should-we-obtain-record-and-manage-consent/#how4"&gt;another page&lt;/a&gt;,
they note that you should consider refreshes of consent:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You should also consider whether to automatically refresh consent at appropriate intervals. How
often it’s appropriate to do so will depend on the particular context, including people’s
expectations, whether you are in regular contact, and how disruptive repeated consent requests
would be to the individual. If in doubt, we recommend you consider refreshing consent every two
years – but you may be able to justify a longer period, or need to refresh more regularly to
ensure good levels of trust and engagement.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If/when you change the consent statement, you will need to re-solicit consent again for the revised
language. You will need to ensure that your back-end can support the semantics of the older consents
if the user has not had an opportunity to re-consent.&lt;/p&gt;

&lt;p&gt;Enjoy.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>How to reverse (revert) some Thor actions</title>
    <link rel="alternate" href="http://7fff.com/2024/12/how-to-reverse-revert-some-thor-actions/"/>
    <id>http://7fff.com/2024/12/how-to-reverse-revert-some-thor-actions/</id>
    <published>2024-12-04T14:26:00+00:00</published>
    <updated>2025-01-03T16:52:08-06:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;It&amp;#39;s pretty cool that in many cases Rails migrations can reverse their action when you use
the &lt;code&gt;destroy&lt;/code&gt; command. For example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;% rails generate model user name:string
      invoke  active_record
      create    db/migrate/20241204143118_create_users.rb
      create    app/models/user.rb
      invoke    test_unit
      create      test/models/user_test.rb
      create      test/fixtures/users.yml
% rails destroy model user
      invoke  active_record
      remove    db/migrate/20241204143118_create_users.rb
      remove    app/models/user.rb
      invoke    test_unit
      remove      test/models/user_test.rb
      remove      test/fixtures/users.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So that&amp;#39;s pretty fun. Rails migrations are built on Thor, but there&amp;#39;s not a lot of
documentation on how to reverse a Thor action.&lt;/p&gt;

&lt;p&gt;I had to study the code and its specs to figure this out, and even then it took some
noodling around.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s how to do it. In your Thor file, you create actions like so. Note the setting
of &lt;code&gt;self.behavior&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  desc "prepend-before", "prepend to a file before a match"
  def prepend_before
    # behavior: Does not inject if the content exists *anywhere* in the file
    inject_into_file "doc/README", "more content\n", before: "__end__"
  end

  desc "revoke-prepend", "revoke prepend"
  def revoke_prepend
    self.behavior = :revoke
    inject_into_file "doc/README", "more content\n", :before =&amp;gt; "__end__"
  end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here&amp;#39;s what run the looks like.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;% thor ex:prepend-before
      insert  doc/README
% thor ex:revoke-prepend
    subtract  doc/README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You&amp;#39;re welcome. Note that not all Thor actions allow for revocation: At some point
I&amp;#39;ll add a list of such actions here.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Arrays are rarely the natural choice in bash; use files</title>
    <link rel="alternate" href="http://7fff.com/2024/12/arrays-are-rarely-the-natural-choice-in-bash-use-files/"/>
    <id>http://7fff.com/2024/12/arrays-are-rarely-the-natural-choice-in-bash-use-files/</id>
    <published>2024-12-02T15:28:00+00:00</published>
    <updated>2025-01-03T16:52:08-06:00</updated>
    <author>
      <name>jgn</name>
    </author>
    <content type="html">&lt;p&gt;So I wanted to format some text whereby I specify a width and a utility fills and wraps the
lines.&lt;/p&gt;

&lt;p&gt;Example input text:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;The output for `ls-files` is incredibly limited, right? That's because the
typical use case is to list files of a certain type.

You can do

  ls-files -c  # show cached (tracked)
  ls-files -d  # show unstaged deletions
  ls-files -u  # show unmerged

There is also an option -t that shows status tag (though the tags are weird:
for instance, the tag for a tracked file is: H).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Fortunately there&amp;#39;s a nice tool called &lt;code&gt;fmt&lt;/code&gt; that can do pretty much what we want.&lt;/p&gt;

&lt;p&gt;You can do &lt;code&gt;fmt -w 50 &amp;lt;text.txt&lt;/code&gt; and get the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;The output for `ls-files` is incredibly limited,
right? That's because the typical use case is to
list files of a certain type.

You can do

  ls-files -c  # show cached (tracked) ls-files -d
  # show unstaged deletions ls-files -u  # show
  unmerged

There is also an option -t that shows status tag
(though the tags are weird: for instance, the tag
for a tracked file is: H).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Well that&amp;#39;s not right. I would like it to leave lines alone that have fewer characters than
the specified width. In other words, I want:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;The output for `ls-files` is incredibly limited,
right? That's because the typical use case is to
list files of a certain type.

You can do

  ls-files -c  # show cached (tracked)
  ls-files -d  # show unstaged deletions
  ls-files -u  # show unmerged

There is also an option -t that shows status tag
(though the tags are weird: for instance, the tag
for a tracked file is: H).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I could do this pretty fast in Ruby, but in this case, I needed it in shell (for bash), and
I didn&amp;#39;t want to incur the startup time of a Ruby script called from a bash script.&lt;/p&gt;

&lt;p&gt;My first instinct was to use arrays, because that feels natural to me as a programmer -- I might
split on newlines and do something with the result.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s what I came up with. Note that on my target, the Mac, the latest version of bash is 3.2
(for licensing reasons). This means I couldn&amp;#39;t use some of the newer array functions from bash 4.&lt;/p&gt;

&lt;p&gt;(By the way, I do know the bash convention of using all uppercase for environment variable
names, but that&amp;#39;s just too ugly. Sorry.)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight shell"&gt;&lt;code&gt;&lt;span class="c"&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="nb"&gt;shift
&lt;/span&gt;&lt;span class="nv"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;

&lt;span class="nv"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=()&lt;/span&gt;
&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;=()&lt;/span&gt;
&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="nv"&gt;last_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0

&lt;span class="nv"&gt;format_command&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"fmt"&lt;/span&gt;    &lt;span class="c"&gt;# or `par -j`&lt;/span&gt;

format &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;local &lt;/span&gt;formatted

  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-gt&lt;/span&gt; 1 &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then
    &lt;/span&gt;&lt;span class="nv"&gt;formatted&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="si"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;'%s'&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; | &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$format_command&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-w&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="si"&gt;)&lt;/span&gt;
    output+&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$formatted&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;fi
  &lt;/span&gt;output+&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;=()&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;for &lt;/span&gt;line &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;text&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="c"&gt;# hit a newline; format everything accumulated in the buffer&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then
    &lt;/span&gt;format
  &lt;span class="c"&gt;# hit a short line; add it to the output unformatted&lt;/span&gt;
  &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-eq&lt;/span&gt; 0 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-le&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then
    &lt;/span&gt;output+&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="c"&gt;# a regular line; add it to the buffer for later formatting.&lt;/span&gt;
  &lt;span class="k"&gt;else
    &lt;/span&gt;buffer+&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt; "&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
  &lt;span class="k"&gt;fi
done

&lt;/span&gt;format

&lt;span class="nv"&gt;last_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt; &lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;output&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="k"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;unset&lt;/span&gt; &lt;span class="s2"&gt;"output[&lt;/span&gt;&lt;span class="nv"&gt;$last_index&lt;/span&gt;&lt;span class="s2"&gt;]"&lt;/span&gt;

&lt;span class="c"&gt;# Split elements in original on newline&lt;/span&gt;
&lt;span class="nv"&gt;split_on_newline&lt;/span&gt;&lt;span class="o"&gt;=()&lt;/span&gt;
&lt;span class="k"&gt;while &lt;/span&gt;&lt;span class="nv"&gt;IFS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;read&lt;/span&gt; &lt;span class="nt"&gt;-r&lt;/span&gt; line&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do
    &lt;/span&gt;split_on_newline+&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="si"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;'%s\n'&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;output&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="si"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="nv"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;split_on_newline&lt;/span&gt;&lt;span class="p"&gt;[@]&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So as you can see, there&amp;#39;s rather a lot of wrangling of arrays: getting lines added from a file.
There&amp;#39;s also the syntax burden of bash arrays, which is non-trivial. I kept looking at this,
and after awhile it just seemed dumb. Why not write a more routine bash command that reads
from STDIN and writes to STDOUT?&lt;/p&gt;

&lt;p&gt;So I came up with this, which is shorter and seems more natural:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight shell"&gt;&lt;code&gt;&lt;span class="c"&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;30
&lt;span class="nb"&gt;command&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"fmt"&lt;/span&gt;
&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;

&lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nt"&gt;-n&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;
&lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nt"&gt;-n&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;command&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;

&lt;span class="k"&gt;while &lt;/span&gt;&lt;span class="nv"&gt;IFS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;read&lt;/span&gt; &lt;span class="nt"&gt;-r&lt;/span&gt; line&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do
  if&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="nt"&gt;-z&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-ne&lt;/span&gt; 0 &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then
    &lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;'%s\n'&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$buffer&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; | &lt;span class="nv"&gt;$command&lt;/span&gt; &lt;span class="nt"&gt;-w&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$width&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
    &lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
    &lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
  &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;buffer&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-eq&lt;/span&gt; 0 &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;${#&lt;/span&gt;&lt;span class="nv"&gt;line&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="nt"&gt;-lt&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$width&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then
    &lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;'%s\n'&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
  &lt;span class="k"&gt;else
    &lt;/span&gt;buffer+&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$line&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
    buffer+&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;" "&lt;/span&gt;
  &lt;span class="k"&gt;fi
done
&lt;/span&gt;&lt;span class="nb"&gt;printf&lt;/span&gt; &lt;span class="s1"&gt;'%s\n'&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$buffer&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; | &lt;span class="nv"&gt;$command&lt;/span&gt; &lt;span class="nt"&gt;-w&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$width&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This one takes two parameters, the first being the width, and the second being the command
to use (if one doesn&amp;#39;t want to use the default, &lt;code&gt;fmt&lt;/code&gt;). So if you like, you can use &lt;code&gt;par&lt;/code&gt; to
justify the text. For example: &lt;code&gt;./wrap 50 &amp;quot;par -j&amp;quot;&lt;/code&gt; gets you:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre class="highlight plaintext"&gt;&lt;code&gt;The output  for `ls-files` is  incredibly limited,
right? That's  because the typical use  case is to
list files of a certain type.

You can do

  ls-files -c  # show cached (tracked)
  ls-files -d  # show unstaged deletions
  ls-files -u  # show unmerged

There is also  an option -t that  shows status tag
(though the tags are  weird: for instance, the tag
for a tracked file is: H).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
  </entry>
</feed>
