<!doctype html> <html lang=en> <head> <meta charset=utf-8 /> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no"> <title>7fff - Pro Active Record (Book Review)</title> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="../../../assets/stylesheets/application-049bc2b6.css" rel=stylesheet /> <link href="../../../assets/stylesheets/syntax-a7a497f1.css" rel=stylesheet /> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--> </head> <body> <nav class="navbar navbar-expand-lg navbar-light bg-light"> <a class=navbar-brand href="/">7fff</a> <button class=navbar-toggler type=button data-toggle=collapse data-target="#navbarSupportedContent" aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> <div class="collapse navbar-collapse" id=navbarSupportedContent> <ul class="navbar-nav mr-auto"> <li class=nav-item> <a class=nav-link href="/about">About <span class=sr-only>(current)</span></a> </li> <li class=nav-item> <a class=nav-link href="/publickey">Key</a> </li> <li class=nav-item> <a class=nav-link href="https://wiki.7fff.com">Wiki</a> </li> </ul> <form class="form-inline my-2 my-lg-0"> <input id=st-search-input class="form-control mr-sm-2" type=search title=search aria-label=Search> <button class="btn btn-outline-success my-2 my-sm-0" type=submit>Search</button> </form> <div id=st-results-container></div> <script>
          var Swiftype = window.Swiftype || {};
          (function() {
            Swiftype.key = 'dDpJ_rUeRKZTo7sGL9JQ';
            Swiftype.inputElement = '#st-search-input';
            Swiftype.resultContainingElement = '#st-results-container';
            Swiftype.attachElement = '#st-search-input';
            Swiftype.renderStyle = "overlay";
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.async = true;
            script.src = "//swiftype.com/embed.js";
            var entry = document.getElementsByTagName('script')[0];
            entry.parentNode.insertBefore(script, entry);
          }());
        </script> </div> </nav> <div class=container-fluid> <h1>Pro Active Record (Book Review) <small> by jgn on Friday, November 9, 2007 in <a href="../../../category/technology/">Technology</a>, <a href="../../../category/rails/">Rails</a>, and <a href="../../../category/reviews/">Reviews</a> </small> </h1> <p>Kevin Marshall, Chad Pytel, and Jon Yurek, <em>Pro Active Record: Databases with Ruby and Rails</em> (2007). $39.99. [<a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2FPro-Active-Record-Databases-Rails%2Fdp%2F1590598474%3Fie%3DUTF8%26s%3Dbooks%26qid%3D1194622452%26sr%3D8-1&amp;tag=jgn09-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Amazon</a> <img src="http://www.assoc-amazon.com/e/ir?t=jgn09-20&amp;l=ur2&amp;o=1" alt=""/>]</p> <p><em>Pro Active Record</em> is all about ActiveRecord, the object-relational mapping layer that comes with Rails. In this review I&#39;ll call ActiveRecord AR. The book has chapters on SQL, setting up your database, the core features of AR, extra AR goodies, testing and debugging, working with legacy schema, AR and the real world, and, finally, a summary of the AR API (interestingly, the API summary is not a copy of the official docs, but has additional comments from the authors, so there is some real added value in this &quot;back of the book&quot; reference material).</p> <p>Before I begin I want to note that these kinds of framework books and chapters are really hard to write (I know: I contributed to the O&#39;Reilly JavaEE book). The reason is that a lot of readers come to a subject such as AR without understanding the problem for which AR is the solution. I.e., if you don&#39;t already have some understanding of relational databases and SQL, and maybe have some experience with different RDBMS from more than one vendor, some of what&#39;s going on in AR and in this book can be lost.</p> <p>Generally I would say that if you do any non-vanilla work with AR, you should own this book as a supplement to the account of AR in <em>Agile Web Development with Rails</em>. There is genuinely useful information throughout the text. Here are a few examples that got a check or exclamation point in the margin while I was reading: executing migrations outside of Rails (p. 49); dealing with migrations in source control (p. 53); a nice discussion of writing good tests (pp. 127ff); more detail on the more obscure test assertions than I&#39;ve seen elsewhere (pp. 129-139); a discussion of transactions and fixtures (p. 141); how to do .csv fixtures (pp. 142-143 -- annoying, by the way; this could be a lot better in AR); good stuff on AR exceptions (pp. 144ff); random notes on legacy schema integration (chapter 7), internationalization (p. 204), use of UUIDs for PKs (p. 205), and some canned associations for typical use cases (pp. 208-209).</p> <p>The book also handles well the true core of AR, setting up associations between models, and validating models (chapter 4, &quot;Core Features of ActiveRecord&quot;). The example &quot;domain&quot; is about managing Farmers, Cows, and Milk, which I found just weird and kinky enough that I learned something. A peculiarity of this chapter is that it kicks off with Callbacks rather than Associations and Validations, so a beginning reader is going to have to wait before getting to the core of the core. But I digress.</p> <p>A brief <em>tour de force</em> is a detailed example of extending AR with Ruby meta-programming (pp. 109-123). This is one of the longer discussions I&#39;ve seen anywhere regarding AR that provides insight into how it actually works, and how you create your own convenience apparatus for easy-to-write queries.</p> <p>Now some less good news. The book&#39;s title makes it sound as though it is going to be complete and exhaustive, but it is not. There are lots of little things that are missing. Just for example, I couldn&#39;t find a discussion of :source for the has_many :through association, which is necessary in some cases and has vexed my students. In fact, the chapter that gives the API doesn&#39;t even document ActiveRecord::Associations, which is a major gap (to be sure, there is much information here on associations, but if you&#39;re going to detail the API for ActiveRecord::Base, why leave out stuff as important as ::Associations?). Another aspect that is missing is dealing with some of the cases where you need to have multiple belongs_to foreign keys: AR can get confused, and it would be helpful if someone played this out at some length; this book doesn&#39;t do that. Elsewhere, mention is made of a discussion of SQL injection (p. 150), but that discussion never appears.</p> <p>Had the title been something like &quot;ActiveRecord Techniques&quot; I&#39;d be less concerned about these gaps. I hope they&#39;ll be addressed in a second edition that is larger and more capacious: We need a single-volume &quot;big book&quot; on AR, and this could be it with some additional work.</p> <p>In sum: Good book! Great bits! 2nd edition has potential to be awesome.</p> <div id=disqus_thread></div> <script>
//<![CDATA[
                  var disqus_shortname = '7fff';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script> <noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript> <a href='http://disqus.com' class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> <script>
//<![CDATA[
    var disqus_shortname = '7fff';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </div> <hr/> <div class="container-fluid footer-padding"> <aside> <h4>Recent Posts</h4> <ol> <li><a href="../../../2025/04/dissertating/">Dissertating</a> <span>(April 25, 2025)</span></li> <li><a href="../../../2025/04/prompting-claude-to-write-gdpr-questions/">Prompting Claude to write GDPR questions</a> <span>(April 16, 2025)</span></li> <li><a href="../../../2025/01/radio-buttons-checkboxes-affirmative-choices-and-consents/">Radio buttons, checkboxes, affirmative choices, and consents</a> <span>(January 3, 2025)</span></li> <li><a href="../../../2024/12/how-to-reverse-revert-some-thor-actions/">How to reverse (revert) some Thor actions</a> <span>(December 4, 2024)</span></li> <li><a href="../../../2024/12/arrays-are-rarely-the-natural-choice-in-bash-use-files/">Arrays are rarely the natural choice in bash; use files</a> <span>(December 2, 2024)</span></li> <li><a href="../../../2024/09/using-google-apps-script-to-convert-a-word-document-to-google-docs/">Using Google Apps Script to convert a Word document to Google Docs</a> <span>(September 9, 2024)</span></li> </ol> <h4>Categories</h4> <a href="../../../category/ai/" class="btn btn-default btn-xs">AI <span class='badge badge-secondary'>1</span></a> <a href="../../../category/announcements/" class="btn btn-default btn-xs">Announcements <span class='badge badge-secondary'>4</span></a> <a href="../../../category/annoyance/" class="btn btn-default btn-xs">Annoyance <span class='badge badge-secondary'>8</span></a> <a href="../../../category/cipp-e/" class="btn btn-default btn-xs">CIPP/E <span class='badge badge-secondary'>1</span></a> <a href="../../../category/claude/" class="btn btn-default btn-xs">Claude <span class='badge badge-secondary'>1</span></a> <a href="../../../category/code/" class="btn btn-default btn-xs">Code <span class='badge badge-secondary'>23</span></a> <a href="../../../category/college-visits/" class="btn btn-default btn-xs">College Visits <span class='badge badge-secondary'>7</span></a> <a href="../../../category/colleges/" class="btn btn-default btn-xs">Colleges <span class='badge badge-secondary'>7</span></a> <a href="../../../category/consulting/" class="btn btn-default btn-xs">Consulting <span class='badge badge-secondary'>1</span></a> <a href="../../../category/data/" class="btn btn-default btn-xs">Data <span class='badge badge-secondary'>1</span></a> <a href="../../../category/dining/" class="btn btn-default btn-xs">Dining <span class='badge badge-secondary'>1</span></a> <a href="../../../category/facebook/" class="btn btn-default btn-xs">Facebook <span class='badge badge-secondary'>1</span></a> <a href="../../../category/gdpr/" class="btn btn-default btn-xs">GDPR <span class='badge badge-secondary'>1</span></a> <a href="../../../category/getting-rid-of-old-drafts-series/" class="btn btn-default btn-xs">Getting-rid-of-old-drafts-series <span class='badge badge-secondary'>1</span></a> <a href="../../../category/google-apps/" class="btn btn-default btn-xs">Google Apps <span class='badge badge-secondary'>1</span></a> <a href="../../../category/google-apps-script/" class="btn btn-default btn-xs">Google Apps Script <span class='badge badge-secondary'>1</span></a> <a href="../../../category/health/" class="btn btn-default btn-xs">Health <span class='badge badge-secondary'>2</span></a> <a href="../../../category/iora/" class="btn btn-default btn-xs">Iora <span class='badge badge-secondary'>1</span></a> <a href="../../../category/javascript/" class="btn btn-default btn-xs">JavaScript <span class='badge badge-secondary'>1</span></a> <a href="../../../category/kendall-square/" class="btn btn-default btn-xs">Kendall Square <span class='badge badge-secondary'>4</span></a> <a href="../../../category/liberal-arts/" class="btn btn-default btn-xs">Liberal Arts <span class='badge badge-secondary'>7</span></a> <a href="../../../category/listening/" class="btn btn-default btn-xs">Listening <span class='badge badge-secondary'>13</span></a> <a href="../../../category/management/" class="btn btn-default btn-xs">Management <span class='badge badge-secondary'>2</span></a> <a href="../../../category/middleman/" class="btn btn-default btn-xs">Middleman <span class='badge badge-secondary'>3</span></a> <a href="../../../category/prompting/" class="btn btn-default btn-xs">Prompting <span class='badge badge-secondary'>1</span></a> <a href="../../../category/rails/" class="btn btn-default btn-xs">Rails <span class='badge badge-secondary'>11</span></a> <a href="../../../category/reading/" class="btn btn-default btn-xs">Reading <span class='badge badge-secondary'>43</span></a> <a href="../../../category/reviews/" class="btn btn-default btn-xs">Reviews <span class='badge badge-secondary'>33</span></a> <a href="../../../category/ruby/" class="btn btn-default btn-xs">Ruby <span class='badge badge-secondary'>20</span></a> <a href="../../../category/security/" class="btn btn-default btn-xs">Security <span class='badge badge-secondary'>1</span></a> <a href="../../../category/small-liberal-arts-colleges/" class="btn btn-default btn-xs">Small Liberal Arts Colleges <span class='badge badge-secondary'>7</span></a> <a href="../../../category/social-media/" class="btn btn-default btn-xs">Social Media <span class='badge badge-secondary'>1</span></a> <a href="../../../category/startup-cto-bookshelf/" class="btn btn-default btn-xs">Startup CTO Bookshelf <span class='badge badge-secondary'>2</span></a> <a href="../../../category/teaching/" class="btn btn-default btn-xs">Teaching <span class='badge badge-secondary'>2</span></a> <a href="../../../category/technology/" class="btn btn-default btn-xs">Technology <span class='badge badge-secondary'>106</span></a> <a href="../../../category/time-management/" class="btn btn-default btn-xs">Time Management <span class='badge badge-secondary'>2</span></a> <a href="../../../category/travel/" class="btn btn-default btn-xs">Travel <span class='badge badge-secondary'>10</span></a> <a href="../../../category/uncategorized/" class="btn btn-default btn-xs">Uncategorized <span class='badge badge-secondary'>18</span></a> <a href="../../../category/values/" class="btn btn-default btn-xs">Values <span class='badge badge-secondary'>1</span></a> <a href="../../../category/wasting-time/" class="btn btn-default btn-xs">Wasting Time <span class='badge badge-secondary'>1</span></a> <a href="../../../category/bash/" class="btn btn-default btn-xs">bash <span class='badge badge-secondary'>1</span></a> <a href="../../../category/hacks/" class="btn btn-default btn-xs">hacks <span class='badge badge-secondary'>1</span></a> <a href="../../../category/management/" class="btn btn-default btn-xs">management <span class='badge badge-secondary'>1</span></a> <a href="../../../category/me/" class="btn btn-default btn-xs">me <span class='badge badge-secondary'>1</span></a> <a href="../../../category/programming/" class="btn btn-default btn-xs">programming <span class='badge badge-secondary'>3</span></a> <a href="../../../category/reading/" class="btn btn-default btn-xs">reading <span class='badge badge-secondary'>3</span></a> <a href="../../../category/ruby/" class="btn btn-default btn-xs">ruby <span class='badge badge-secondary'>1</span></a> <h4>Tags</h4> <a href="/tag/apple/" class="btn btn-default btn-xs">Apple <span class='badge badge-secondary'>1</span></a> <a href="/tag/apple-watch/" class="btn btn-default btn-xs">Apple Watch <span class='badge badge-secondary'>1</span></a> <a href="/tag/bard-college/" class="btn btn-default btn-xs">Bard College <span class='badge badge-secondary'>1</span></a> <a href="/tag/barnard-college/" class="btn btn-default btn-xs">Barnard College <span class='badge badge-secondary'>1</span></a> <a href="/tag/bates-college/" class="btn btn-default btn-xs">Bates College <span class='badge badge-secondary'>2</span></a> <a href="/tag/cissp/" class="btn btn-default btn-xs">CISSP <span class='badge badge-secondary'>1</span></a> <a href="/tag/carleton-college/" class="btn btn-default btn-xs">Carleton College <span class='badge badge-secondary'>1</span></a> <a href="/tag/claude/" class="btn btn-default btn-xs">Claude <span class='badge badge-secondary'>1</span></a> <a href="/tag/college/" class="btn btn-default btn-xs">College <span class='badge badge-secondary'>1</span></a> <a href="/tag/coursera/" class="btn btn-default btn-xs">Coursera <span class='badge badge-secondary'>1</span></a> <a href="/tag/global-entry/" class="btn btn-default btn-xs">Global Entry <span class='badge badge-secondary'>1</span></a> <a href="/tag/google-apps/" class="btn btn-default btn-xs">Google Apps <span class='badge badge-secondary'>1</span></a> <a href="/tag/google-docs/" class="btn btn-default btn-xs">Google Docs <span class='badge badge-secondary'>1</span></a> <a href="/tag/grinnell-college/" class="btn btn-default btn-xs">Grinnell College <span class='badge badge-secondary'>1</span></a> <a href="/tag/javascript/" class="btn btn-default btn-xs">JavaScript <span class='badge badge-secondary'>1</span></a> <a href="/tag/microsoft-word/" class="btn btn-default btn-xs">Microsoft Word <span class='badge badge-secondary'>1</span></a> <a href="/tag/ny-times/" class="btn btn-default btn-xs">NY Times <span class='badge badge-secondary'>1</span></a> <a href="/tag/paperbacks/" class="btn btn-default btn-xs">Paperbacks <span class='badge badge-secondary'>1</span></a> <a href="/tag/qardio/" class="btn btn-default btn-xs">Qardio <span class='badge badge-secondary'>1</span></a> <a href="/tag/reading/" class="btn btn-default btn-xs">Reading <span class='badge badge-secondary'>1</span></a> <a href="/tag/reviews/" class="btn btn-default btn-xs">Reviews <span class='badge badge-secondary'>1</span></a> <a href="/tag/tsa/" class="btn btn-default btn-xs">TSA <span class='badge badge-secondary'>1</span></a> <a href="/tag/tsa-pre/" class="btn btn-default btn-xs">TSA Pre <span class='badge badge-secondary'>1</span></a> <a href="/tag/thor/" class="btn btn-default btn-xs">Thor <span class='badge badge-secondary'>1</span></a> <a href="/tag/vassar-college/" class="btn btn-default btn-xs">Vassar College <span class='badge badge-secondary'>1</span></a> <a href="/tag/watch/" class="btn btn-default btn-xs">Watch <span class='badge badge-secondary'>1</span></a> <a href="/tag/activerecord/" class="btn btn-default btn-xs">activerecord <span class='badge badge-secondary'>1</span></a> <a href="/tag/anatomy/" class="btn btn-default btn-xs">anatomy <span class='badge badge-secondary'>1</span></a> <a href="/tag/arrays/" class="btn btn-default btn-xs">arrays <span class='badge badge-secondary'>1</span></a> <a href="/tag/bash/" class="btn btn-default btn-xs">bash <span class='badge badge-secondary'>1</span></a> <a href="/tag/billing/" class="btn btn-default btn-xs">billing <span class='badge badge-secondary'>1</span></a> <a href="/tag/boxen/" class="btn btn-default btn-xs">boxen <span class='badge badge-secondary'>2</span></a> <a href="/tag/burton/" class="btn btn-default btn-xs">burton <span class='badge badge-secondary'>1</span></a> <a href="/tag/categories/" class="btn btn-default btn-xs">categories <span class='badge badge-secondary'>1</span></a> <a href="/tag/dissection/" class="btn btn-default btn-xs">dissection <span class='badge badge-secondary'>1</span></a> <a href="/tag/files/" class="btn btn-default btn-xs">files <span class='badge badge-secondary'>1</span></a> <a href="/tag/invoicing/" class="btn btn-default btn-xs">invoicing <span class='badge badge-secondary'>1</span></a> <a href="/tag/literature/" class="btn btn-default btn-xs">literature <span class='badge badge-secondary'>1</span></a> <a href="/tag/lyly/" class="btn btn-default btn-xs">lyly <span class='badge badge-secondary'>1</span></a> <a href="/tag/mobile-apps/" class="btn btn-default btn-xs">mobile apps <span class='badge badge-secondary'>1</span></a> <a href="/tag/nashe/" class="btn btn-default btn-xs">nashe <span class='badge badge-secondary'>1</span></a> <a href="/tag/osx/" class="btn btn-default btn-xs">osx <span class='badge badge-secondary'>1</span></a> <a href="/tag/puppet/" class="btn btn-default btn-xs">puppet <span class='badge badge-secondary'>1</span></a> <a href="/tag/ruby/" class="btn btn-default btn-xs">ruby <span class='badge badge-secondary'>2</span></a> <a href="/tag/strategies/" class="btn btn-default btn-xs">strategies <span class='badge badge-secondary'>1</span></a> <a href="/tag/stubbes/" class="btn btn-default btn-xs">stubbes <span class='badge badge-secondary'>1</span></a> <a href="/tag/virtualbox/" class="btn btn-default btn-xs">virtualbox <span class='badge badge-secondary'>1</span></a> <a href="/tag/wordpress/" class="btn btn-default btn-xs">wordpress <span class='badge badge-secondary'>2</span></a> <hr/> Check accessibility with <a href="//wave.webaim.org/refer">WAVE</a>. [ 4fc8133 ] </aside> </div> <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin=anonymous></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity=sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1 crossorigin=anonymous></script> <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin=anonymous></script> <script src="../../../assets/javascripts/all-ce8a433c.js"></script> <script>
      // Inject a title for this element that is created by SwifType
      $('#st-overlay-search-input').attr('title', 'search this website');
    </script> </body> </html>